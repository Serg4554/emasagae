<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
      xmlns:m="http://code.google.com/p/gmaps4jsf/"
      >
    <h:head>
        <title>Aviso</title>
    </h:head>
    <h:body>
       
        
        <h1>Detalle del Aviso: #{controlBean.avisoSeleccionado.id}</h1>
        
        Fecha de creacion: <h:outputText value="#{controlBean.avisoSeleccionado.fechacreacion}" >
                            <f:convertDateTime pattern="dd-MM-yyyy" timeZone="CET" />
                        </h:outputText><br/>
        ubicación: #{controlBean.avisoSeleccionado.ubicacion}<br/>
        estado: #{controlBean.avisoSeleccionado.estado}<br/>
        observaciones: <br/>
        #{controlBean.avisoSeleccionado.observaciones}<br/>
        ubicación técnica: #{controlBean.avisoSeleccionado.ubicacionTecnica}<br/>
        prioridad: #{controlBean.avisoSeleccionado.prioridad}<br/>
        inicio de reparación: <h:outputText value="#{controlBean.avisoSeleccionado.inicioReparacion}" >
                            <f:convertDateTime pattern="dd-MM-yyyy" timeZone="CET" />
                        </h:outputText><br/>
        fin de reparación: <h:outputText value="#{controlBean.avisoSeleccionado.finReparacion}" >
                            <f:convertDateTime pattern="dd-MM-yyyy" timeZone="CET" />
                        </h:outputText><br/>
        posición GPS: #{controlBean.avisoSeleccionado.posGPS}<br/>
        <script type="text/javascript"
                charset="" src="https://maps.googleapis.com/maps/api/js?sensor=true&amp;key=AIzaSyB2RpStrikgb975QOCkSfTcrt9ufzlVeBU">
        </script>
        <h:form id="form">
            <m:map width="500" height="450px" latitude="#{controlBean.latitudGPS}" longitude="#{controlBean.longitudGPS}"  enableScrollWheelZoom="true" >
                <m:marker>
                    <m:htmlInformationWindow htmlText="ID: #{controlBean.avisoSeleccionado.id}&lt;br/&gt; prioridad:#{controlBean.avisoSeleccionado.prioridad}&lt;br/&gt; tipo: #{controlBean.avisoSeleccionado.tipo}&lt;br/&gt; observaciones: #{controlBean.avisoSeleccionado.observaciones}"/>
                </m:marker>
            </m:map><br/>
            <h:commandButton value="volver" action="#{controlBean.mostrarAvisos()}"/><br/>
        </h:form>
        tipo: #{controlBean.avisoSeleccionado.tipo}<br/>
        operaciones:<br/>
        <h:dataTable value="#{controlBean.listaOperaciones}" var="operacion" border="2"  cellspacing="2" >
                            <h:column>
                                <f:facet name="header">
                                    id
                                </f:facet>
                                #{operacion.id}
                            </h:column>     
                            <h:column>
                                <f:facet name="header">
                                    descripcion
                                </f:facet>
                                #{operacion.descripcion}
                            </h:column>  
                            <h:column>
                                <f:facet name="header">
                                    fecha
                                </f:facet>
                                <h:outputText value="#{operacion.fecha}" >
                            <f:convertDateTime pattern="dd-MM-yyyy" timeZone="CET" />
                        </h:outputText>
                            </h:column>  
        </h:dataTable>
        
        
    </h:body>
</html>


